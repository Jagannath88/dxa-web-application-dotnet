<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <configSections>
        <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
        <section name="modelBuilderPipeline" type="Sdl.Web.Tridion.Configuration.ModelBuilderPipelineConfiguration, Sdl.Web.Tridion" />
    </configSections>
    <appSettings>
        <add key="DD4T.CacheSettings.Default" value="10" />
        <add key="viewModel-caching" value="true"/>

        <!-- SDL Web 8 CDaaS configuration settings: -->
        <add key="discovery-service-uri" value="http://dxadevweb8.ams.dev:8082/discovery.svc" />
        <add key="cid-service-uri" value="http://dxadevweb8.ams.dev:8088/cid" />
        <add key="log-level" value="ERROR" />
        <add key="log-rolling" value="true" />
        <add key="log-max-log-size" value="50000" />
        <add key="log-output" value="Sdl.Web.Tridion.Tests_cd_client.log" />
        <!-- NOTE: set "service-caching" to "false" for XPM Session Preview (Staging) -->
        <add key="service-caching" value="false" />
        <add key="service-caching-expiration" value="60" />
        <add key="oauth-enabled" value="false" />
        <add key="oauth-client-id" value="cduser" />
        <add key="oauth-client-secret" value="CDUserP@ssw0rd" />
    </appSettings>
    <log4net>
        <appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
            <file value="Sdl.Web.Tridion.Tests.log" />
            <appendToFile value="true" />
            <maximumFileSize value="1000KB" />
            <maxSizeRollBackups value="2" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="%date [%thread] %-5level - %message%newline" />
            </layout>
        </appender>
        <root>
            <level value="INFO" />
            <appender-ref ref="RollingFile" />
        </root>
    </log4net>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-7.0.0.0" newVersion="7.0.0.0" />
      </dependentAssembly>
      <!-- Currently DD4T is referencing 8.1.0.1239 of the CIL but we wish to use 8.3.0 -->
      <dependentAssembly>
        <assemblyIdentity name="Tridion.ContentDelivery" publicKeyToken="ddfc895746e5ee6b" culture="neutral" />
        <bindingRedirect oldVersion="8.1.0.1239" newVersion="8.3.0.1017" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Tridion.ContentDelivery.AmbientData" publicKeyToken="ddfc895746e5ee6b" culture="neutral" />
        <bindingRedirect oldVersion="8.1.0.1239" newVersion="8.3.0.1017" />
      </dependentAssembly>
        <!-- TODO: Temporary redirects needed to make the interim 8.3.0 Context Engine Client work:  -->
        <dependentAssembly>
            <assemblyIdentity name="Sdl.Web.Delivery.Core" publicKeyToken="ddfc895746e5ee6b" culture="neutral" />
            <bindingRedirect oldVersion="8.3.0.0" newVersion="8.3.0.1017" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Sdl.Web.Delivery.DiscoveryService" publicKeyToken="ddfc895746e5ee6b" culture="neutral" />
            <bindingRedirect oldVersion="8.3.0.0" newVersion="8.3.0.1017" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Sdl.Web.Delivery.Service" publicKeyToken="ddfc895746e5ee6b" culture="neutral" />
            <bindingRedirect oldVersion="8.3.0.0" newVersion="8.3.0.1017" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Sdl.Web.Delivery.ServiceCore" publicKeyToken="ddfc895746e5ee6b" culture="neutral" />
            <bindingRedirect oldVersion="8.3.0.0" newVersion="8.3.0.1017" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Microsoft.OData.Client" publicKeyToken="31bf3856ad364e35" culture="neutral" />
            <bindingRedirect oldVersion="6.13.0.0" newVersion="6.15.0.0" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Microsoft.OData.Core" publicKeyToken="31bf3856ad364e35" culture="neutral" />
            <bindingRedirect oldVersion="6.13.0.0" newVersion="6.15.0.0" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Microsoft.OData.Edm" publicKeyToken="31bf3856ad364e35" culture="neutral" />
            <bindingRedirect oldVersion="6.13.0.0" newVersion="6.15.0.0" />
        </dependentAssembly>
        <dependentAssembly>
            <assemblyIdentity name="Microsoft.Spatial" publicKeyToken="31bf3856ad364e35" culture="neutral" />
            <bindingRedirect oldVersion="6.13.0.0" newVersion="6.15.0.0" />
        </dependentAssembly>
    </assemblyBinding>

</runtime>
    <modelBuilderPipeline>
        <add type="Sdl.Web.Tridion.Mapping.DefaultModelBuilder, Sdl.Web.Tridion" />
    </modelBuilderPipeline>
</configuration>