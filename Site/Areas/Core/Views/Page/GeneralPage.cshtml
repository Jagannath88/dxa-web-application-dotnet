@model Sdl.Web.Models.WebPage
@{
    bool hasLeftBar = Model.Includes.ContainsKey("Left Navigation") || Model.Regions.Keys.Contains("Left");
}
@if (Model.Regions.ContainsKey("Hero"))
{
    @ViewBag.Renderer.Render(Model.Regions["Hero"], Html)
}
@if (Model.Includes.ContainsKey("Content Tools"))
{
    foreach (var region in Model.Includes["Content Tools"].Regions.Values)
    {
        @ViewBag.Renderer.Render(region, Html)
    }
}
<div class="row">
    @if (hasLeftBar)
    {
    <div class="col-sm-3">
        @if (Model.Includes.ContainsKey("Left Navigation"))
        {
            foreach (var region in Model.Includes["Left Navigation"].Regions.Values)
            {
                @ViewBag.Renderer.Render(region, Html)
            }
        }
        @if (Model.Regions.ContainsKey("Left"))
        {
            @ViewBag.Renderer.Render(Model.Regions["Left"], Html)
        }
    </div>
    }
    <div class="col-sm-@(hasLeftBar ? "9" : "12")">
        @foreach (Region region in Model.Regions.Values)
        {
            @ViewBag.Renderer.Render(region, Html, 9, new List<string>{"Hero", "Left"})
        }
    </div>
</div>
